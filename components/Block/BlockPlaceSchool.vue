<script lang="ts" setup>
import gsap from 'gsap'
var BlockPlaceSchool_node = ref<HTMLElement>()

var getMarkStart = () => (window.innerWidth <= 1170 ? '40%' : 'center')

onMounted(() => {
  gsap.to(BlockPlaceSchool_node.value!.querySelector('.BlockPlaceSchool__content'), {
    scrollTrigger: {
      trigger: BlockPlaceSchool_node.value,
      start: `bottom ${getMarkStart()}`,
      end: 'bottom top',
      scrub: 1,
    },
    scale: 0.8,
    borderRadius: '80px',
  })
})
</script>

<template>
  <section class="BlockPlaceSchool" ref="BlockPlaceSchool_node" >
    <div class="BlockPlaceSchool__content" id="education_and_leisure">
      <h2 class="BlockPlaceSchool__h2">
        НАСЧИТАЛИ <span class="BlockPlaceSchool__h2Equal">РОВНО</span> ТРИДЦАТЬ МЕСТ
        <span class="BlockPlaceSchool__h2Span">для&nbsp;учёбы вокруг</span>
      </h2>

      <p class="BlockPlaceSchool__p">ЭТО ГИМНАЗИИ, ШКОЛЫ, ДЕТСКИЕ САДЫ И КРУЖКИ.</p>
    </div>
  </section>
</template>

<style lang="scss">
.BlockPlaceSchool__content {
  @include setPaddingSides(var(--global_padding_content));
  padding-top: 150px;
  padding-bottom: 150px;
  position: relative;

  background-image: url('data:image/svg+xml;utf8, <svg xmlns="http://www.w3.org/2000/svg" width="1920" height="811" viewBox="0 0 1920 811" fill="none"><path d="M851 211.501L831.829 184.609C843.418 176.347 858.996 176.439 870.487 184.837C881.977 193.234 886.796 208.049 882.444 221.599L851 211.501ZM666 787.551L689.787 810.461L634.556 777.453L666 787.551ZM1372 54.5008L1348.21 31.5911L1399.65 72.5655L1372 54.5008ZM1306.62 771.779L1313.04 739.385L1306.62 771.779ZM-175.679 560.654C-82.5131 622.773 -7.12012 671.856 57.6139 698.322C121.431 724.413 167.905 725.691 208.011 701.919C250.88 676.508 294.545 618.11 339.406 503.475C383.829 389.956 427.277 227.108 473.647 0.869464L538.353 14.1317C491.774 241.392 447.435 408.67 400.915 527.545C354.832 645.304 304.397 721.57 241.691 758.739C176.221 797.545 105.645 789.317 32.6178 759.461C-39.4923 729.98 -120.737 676.675 -212.321 615.61L-175.679 560.654ZM538.353 14.1317C520.565 100.922 513.766 168.441 517.355 217.432C521.023 267.495 534.8 290.046 549.155 299.313C563.58 308.625 590.666 312.342 640.523 294.416C689.335 276.866 752.607 241.085 831.829 184.609L870.171 238.393C789.081 296.2 720.065 336.008 662.871 356.572C606.722 376.761 554.086 381.116 513.331 354.806C472.506 328.451 455.646 279.122 451.48 222.259C447.235 164.325 455.404 89.8752 473.647 0.869464L538.353 14.1317ZM882.444 221.599L697.444 797.65L634.556 777.453L819.556 201.402L882.444 221.599ZM1399.65 72.5655C1264.86 278.852 1222.53 445.852 1225.74 561.173C1227.35 618.902 1240.3 662.718 1257.67 692.389C1275.14 722.241 1295.76 735.955 1313.04 739.385L1300.19 804.173C1259.34 796.066 1224.74 766.886 1200.66 725.754C1176.48 684.44 1161.56 629.181 1159.71 563.01C1156.03 430.53 1204.53 250.427 1344.35 36.4361L1399.65 72.5655ZM1313.04 739.385C1326.17 741.989 1335.86 740.017 1344.9 735.276C1355 729.978 1365.66 720.457 1378.39 705.475C1391.28 690.295 1403.67 672.781 1419.36 651.9C1434.52 631.711 1451.87 609.648 1472.65 588.811C1514.87 546.475 1570.99 509.498 1653.17 498.584C1734.26 487.812 1837.47 502.857 1973.75 557.478L1949.18 618.789C1819.01 566.615 1727.75 555.309 1661.87 564.06C1597.06 572.668 1553.69 601.087 1519.42 635.452C1501.96 652.965 1486.81 672.078 1472.17 691.569C1458.05 710.37 1443.33 731.042 1428.73 748.231C1413.97 765.619 1396.77 782.651 1375.58 793.768C1353.32 805.443 1328.28 809.749 1300.19 804.173L1313.04 739.385ZM642.212 764.641L1348.21 31.5911L1395.79 77.4105L689.787 810.461L642.212 764.641Z" fill="white"/></svg>');
  background-repeat: no-repeat;
  background-position: center;

  display: flex;
  flex-direction: column;
  gap: 150px;
  background-color: $c_body_hover;
  transform-origin: center top;
}

.BlockPlaceSchool__h2 {
  @include setFontStyle11();
  color: $c_text;

  max-width: 536px;
}

.BlockPlaceSchool__h2Equal {
  @include setFontStyle11();
}

.BlockPlaceSchool__h2Span {
  @include setFontStyle2();
  color: $c_primary;

  line-height: 80%;
  position: relative;
  top: -10px;
}

.BlockPlaceSchool__p {
  @include setFontStyle11();
  color: $c_text;

  position: relative;
  left: 10px;

  max-width: 500px;
  align-self: flex-end;
}

@media screen and (max-width: 1170px) {
  .BlockPlaceSchool__content {
    padding-top: 100px;
    padding-bottom: 100px;

    background-image: url('data:image/svg+xml;utf8, <svg xmlns="http://www.w3.org/2000/svg" width="768" height="811" viewBox="0 0 768 811" fill="none"><path d="M251 211.608L231.829 184.716C243.418 176.454 258.996 176.546 270.487 184.944C281.977 193.341 286.796 208.156 282.444 221.706L251 211.608ZM66.0001 787.658L89.7876 810.568L34.5561 777.56L66.0001 787.658ZM772 54.6077L748.213 31.698L799.647 72.6724L772 54.6077ZM706.615 771.886L713.044 739.492L706.615 771.886ZM-775.679 560.761C-682.513 622.88 -607.12 671.963 -542.386 698.429C-478.569 724.52 -432.095 725.798 -391.989 702.026C-349.12 676.615 -305.455 618.217 -260.594 503.581C-216.17 390.063 -172.723 227.215 -126.353 0.976398L-61.6465 14.2386C-108.226 241.499 -152.565 408.777 -199.085 527.652C-245.168 645.411 -295.603 721.677 -358.309 758.846C-423.778 797.652 -494.355 789.424 -567.382 759.568C-639.492 730.087 -720.737 676.781 -812.321 615.717L-775.679 560.761ZM-61.6465 14.2386C-79.435 101.029 -86.2344 168.548 -82.6449 217.539C-78.9769 267.602 -65.1997 290.153 -50.845 299.42C-36.4203 308.732 -9.33357 312.449 40.5231 294.523C89.3352 276.973 152.607 241.191 231.829 184.716L270.171 238.5C189.082 296.306 120.065 336.115 62.8712 356.679C6.72217 376.867 -45.9138 381.223 -86.6688 354.913C-127.494 328.558 -144.354 279.229 -148.52 222.366C-152.765 164.432 -144.595 89.9821 -126.353 0.976398L-61.6465 14.2386ZM282.444 221.706L97.4441 797.756L34.5561 777.56L219.556 201.509L282.444 221.706ZM799.647 72.6724C664.86 278.959 622.533 445.958 625.741 561.28C627.347 619.009 640.299 662.825 657.666 692.495C675.139 722.348 695.761 736.062 713.044 739.492L700.187 804.28C659.335 796.173 624.736 766.993 600.661 725.861C576.479 684.547 561.556 629.288 559.715 563.117C556.03 430.637 604.531 250.534 744.353 36.543L799.647 72.6724ZM713.044 739.492C726.168 742.096 735.857 740.124 744.895 735.383C754.995 730.085 765.663 720.564 778.386 705.582C791.277 690.401 803.674 672.888 819.359 652.007C834.524 631.817 851.873 609.755 872.653 588.917C914.873 546.582 970.995 509.605 1053.17 498.691C1134.26 487.919 1237.47 502.964 1373.75 557.585L1349.18 618.895C1219.01 566.722 1127.75 555.416 1061.87 564.167C997.062 572.775 953.693 601.194 919.423 635.559C901.957 653.072 886.812 672.185 872.171 691.676C858.049 710.477 843.329 731.149 828.732 748.338C813.966 765.726 796.772 782.758 775.578 793.875C753.323 805.55 728.284 809.856 700.187 804.28L713.044 739.492ZM42.2126 764.748L748.213 31.698L795.788 77.5175L89.7876 810.568L42.2126 764.748Z" fill="white"/></svg>');
    background-position: center;

    gap: 238px;
  }

  .BlockPlaceSchool__h2 {
    max-width: 450px;
  }

  .BlockPlaceSchool__h2Span {
    top: 0px;
  }

  .BlockPlaceSchool__p {
    max-width: 402px;
    left: 0px;
  }
}

@media screen and (max-width: 740px) {
  .BlockPlaceSchool__content {
    padding-top: 60px;
    padding-bottom: 70px;

    background-image: url('data:image/svg+xml;utf8, <svg xmlns="http://www.w3.org/2000/svg" width="360" height="568" viewBox="0 0 360 568" fill="none"><path d="M232.385 164.203L225.129 154.025C229.615 150.827 235.665 150.943 240.025 154.31C244.385 157.677 246.027 163.501 244.068 168.65L232.385 164.203ZM81.6021 560.336L92.0785 567.154L69.9198 555.889L81.6021 560.336ZM383.781 96.0561L373.317 89.2187L394.257 102.875L383.781 96.0561ZM312.914 466.998L306.397 477.664L312.914 466.998ZM-268.525 461.235C-246.36 456.977 -225.226 453.763 -205.509 450.551C-185.663 447.318 -167.186 444.078 -149.663 439.724C-114.842 431.071 -84.2217 418.117 -55.9784 392.6C1.16851 340.97 51.1549 235.668 99.2545 0.989384L123.745 6.00903C75.6446 240.694 24.5443 353.543 -39.2188 411.151C-71.4305 440.253 -106.221 454.689 -143.634 463.986C-162.227 468.606 -181.573 471.981 -201.489 475.225C-221.534 478.491 -242.101 481.616 -263.809 485.786L-268.525 461.235ZM123.745 6.00903C116.404 41.8283 112.106 75.0953 111.715 103.305C111.32 131.835 114.954 153.779 122.252 167.973C125.806 174.886 130.028 179.571 134.735 182.514C139.373 185.414 145.255 187.109 153.017 186.835C169.156 186.266 192.642 177.185 225.129 154.025L239.641 174.382C205.931 198.413 177.487 210.987 153.898 211.82C141.797 212.246 130.864 209.578 121.482 203.712C112.168 197.889 105.16 189.405 100.018 179.404C89.9246 159.772 86.3023 132.919 86.7175 102.958C87.1372 72.6773 91.7176 37.7624 99.2545 0.989384L123.745 6.00903ZM244.068 168.65L93.2844 564.782L69.9198 555.889L220.703 159.756L244.068 168.65ZM394.245 102.893C338.554 188.127 311.075 272.698 302.558 338.637C298.294 371.653 298.837 399.589 302.709 420.388C306.745 442.064 313.777 452.876 319.432 456.331L306.397 477.664C291.168 468.358 282.442 448.115 278.131 424.964C273.658 400.935 273.265 370.271 277.764 335.435C286.774 265.671 315.612 177.533 373.317 89.2187L394.245 102.893ZM319.432 456.331C324.483 459.418 325.947 458.519 325.968 458.511C327.015 458.111 329.318 456.496 333.151 450.798C336.891 445.238 340.519 438.317 345.57 429.387C350.417 420.816 356.206 411.112 363.593 401.6C378.562 382.326 400.02 363.959 433.769 355.595C467.152 347.321 511.262 349.158 571.137 367.457L563.83 391.365C506.538 373.856 467.291 373.043 439.783 379.861C412.639 386.588 395.672 401.054 383.338 416.935C377.074 425 371.991 433.454 367.331 441.695C362.873 449.576 358.355 458.121 353.894 464.752C349.526 471.246 343.572 478.548 334.889 481.865C325.18 485.573 315.44 483.19 306.397 477.664L319.432 456.331ZM71.1257 553.517L373.304 89.2374L394.257 102.875L92.0785 567.154L71.1257 553.517Z" fill="white"/></svg>');
    background-position: center;
    background-size: 100% auto;

    gap: 200px;
  }

  .BlockPlaceSchool__h2 {
    max-width: 450px;
    max-width: 300px;
  }

  .BlockPlaceSchool__h2Equal {
    display: none;
  }

  .BlockPlaceSchool__h2Span {
    top: -6px;
  }

  .BlockPlaceSchool__p {
    line-height: 135%;

    max-width: 328px;
    left: 0px;
  }
}
</style>
