<script setup lang="ts">
import { INavGroup, INavLink } from "@/types/FrontTypes";

useHead({
  titleTemplate(title) {
    return title + " - 404";
  },
});

var link_logo_header = useState("link_logo_header", () => "/");
var links_header = useState<INavLink[]>("links_header", () => []);
var links_header_mobile = useState<INavGroup[]>("links_header_mobile", () => []);

var getLinkForPage404 = (link: INavLink) => {
  return {
    ...link,
    href: link.href[0] === "#" ? `/${link.href}` : link.href,
  };
};

var getGroupLinkForPage404 = (link: INavGroup) => {
  return {
    ...link,
    children: link.children.map((i) => ({ ...i, href: i.href[0] === "#" ? `/${i.href}` : i.href })),
  };
};

link_logo_header.value = "/";
links_header.value = links_header.value.map((i) => getLinkForPage404(i));

links_header_mobile.value = links_header_mobile.value.map((i) => getGroupLinkForPage404(i));
</script>

<template>
  <div class="Page404">
    <h1 class="Page404__h1">404</h1>

    <div class="Page404__textContent">
      <h2 class="Page404__h2">Страница не найдена</h2>
      <p class="Page404__p">
        Ее удалили или еще не создали. <br />
        Актуальную информацию вы найдете на нашем сайте.
      </p>
      <a class="btn_ligth Page404__btn" @click="$router.push('/#plans')">Каталог планировок</a>
    </div>
  </div>
</template>

<style lang="scss">
.Page404 {
  @include setPaddingSides(var(--global_padding_content));
  padding-top: 100px;
  padding-bottom: 100px;

  background-color: $c_body_hover;
  background-image: url('data:image/svg+xml;utf8, <svg xmlns="http://www.w3.org/2000/svg" width="2187" height="811" viewBox="0 0 2187 811" fill="none"><path d="M1064 211.501L1044.83 184.609C1056.42 176.348 1072 176.44 1083.49 184.837C1094.98 193.235 1099.8 208.049 1095.44 221.6L1064 211.501ZM879 787.552L902.788 810.461L847.556 777.453L879 787.552ZM1585 54.5013L1561.21 31.5916L1612.65 72.566L1585 54.5013ZM1519.62 771.779L1526.04 739.385L1519.62 771.779ZM37.3211 560.655C130.487 622.774 205.88 671.857 270.614 698.322C334.431 724.413 380.905 725.692 421.011 701.919C463.88 676.509 507.545 618.111 552.406 503.475C596.83 389.956 640.277 227.109 686.647 0.869952L751.353 14.1322C704.774 241.393 660.435 408.67 613.915 527.546C567.832 645.305 517.397 721.571 454.691 758.739C389.222 797.545 318.645 789.318 245.618 759.461C173.508 729.98 92.263 676.675 0.678859 615.61L37.3211 560.655ZM751.353 14.1322C733.565 100.923 726.766 168.442 730.355 217.433C734.023 267.495 747.8 290.047 762.155 299.314C776.58 308.626 803.666 312.343 853.523 294.417C902.335 276.866 965.607 241.085 1044.83 184.609L1083.17 238.393C1002.08 296.2 933.065 336.009 875.871 356.573C819.722 376.761 767.086 381.116 726.331 354.807C685.506 328.452 668.646 279.122 664.48 222.259C660.235 164.325 668.405 89.8756 686.647 0.869952L751.353 14.1322ZM1095.44 221.6L910.444 797.65L847.556 777.453L1032.56 201.403L1095.44 221.6ZM1612.65 72.566C1477.86 278.853 1435.53 445.852 1438.74 561.174C1440.35 618.902 1453.3 662.719 1470.67 692.389C1488.14 722.242 1508.76 735.955 1526.04 739.385L1513.19 804.173C1472.34 796.066 1437.74 766.886 1413.66 725.755C1389.48 684.441 1374.56 629.182 1372.72 563.01C1369.03 430.531 1417.53 250.428 1557.35 36.4366L1612.65 72.566ZM1526.04 739.385C1539.17 741.99 1548.86 740.018 1557.9 735.276C1568 729.978 1578.66 720.457 1591.39 705.476C1604.28 690.295 1616.67 672.781 1632.36 651.9C1647.52 631.711 1664.87 609.648 1685.65 588.811C1727.87 546.475 1783.99 509.499 1866.17 498.584C1947.26 487.813 2050.47 502.858 2186.75 557.479L2162.18 618.789C2032.01 566.616 1940.75 555.309 1874.87 564.061C1810.06 572.668 1766.69 601.088 1732.42 635.452C1714.96 652.965 1699.81 672.078 1685.17 691.57C1671.05 710.37 1656.33 731.042 1641.73 748.231C1626.97 765.619 1609.77 782.651 1588.58 793.769C1566.32 805.443 1541.28 809.749 1513.19 804.173L1526.04 739.385ZM855.213 764.642L1561.21 31.5916L1608.79 77.411L902.788 810.461L855.213 764.642Z" fill="white"/></svg>');
  background-repeat: no-repeat;
  background-position: center;

  display: flex;
  flex-direction: column;
  min-height: calc(100vh - 300px);
}

.Page404__h1 {
  font-family: NeutralFace;
  font-size: 309.906px;
  font-style: normal;
  font-weight: 700;
  line-height: 130%;
  color: $c_text;
}

.Page404__textContent {
  width: max-content;
  align-self: flex-end;

  display: flex;
  flex-direction: column;
  gap: 40px;
}

.Page404__h2 {
  font-family: NeutralFace;
  font-size: 50px;
  font-style: normal;
  font-weight: 400;
  line-height: 130%;
  color: $c_text;
}

.Page404__p {
  font-family: Inter;
  font-size: 20px;
  font-style: normal;
  font-weight: 400;
  line-height: 140%;

  color: $c_text;
}

.Page404__btn {
  display: inline-block;
  text-decoration: none;

  @include setBtn_primary();
  font-family: Inter;
  font-size: 23.227px;
  font-style: normal;
  font-weight: 500;
  line-height: 150%;

  padding: 17.42px 34.84px;
  width: max-content;
}

@media screen and (max-width: 1170px) {
  .Page404__h1 {
    text-align: center;
  }

  .Page404__textContent {
    align-self: flex-start;
  }
}

@media screen and (max-width: 740px) {
  .Page404 {
    padding-top: 40px;
    padding-bottom: 50px;

    background-image: url('data:image/svg+xml;utf8,   <svg xmlns="http://www.w3.org/2000/svg" width="1228" height="455" viewBox="0 0 1228 455" fill="none"><path d="M597.267 118.734L586.512 103.647C593.013 99.0122 601.753 99.0638 608.199 103.775C614.646 108.486 617.349 116.797 614.908 124.399L597.267 118.734ZM493.478 441.91L506.823 454.763L475.837 436.245L493.478 441.91ZM889.559 30.6538L876.213 17.801L905.069 40.7885L889.559 30.6538ZM852.877 433.062L856.483 414.888L852.877 433.062ZM21.2785 314.616C73.5465 349.467 115.844 377.003 152.161 391.851C187.963 406.488 214.036 407.206 236.537 393.869C260.587 379.613 285.084 346.85 310.252 282.537C335.174 218.851 359.55 127.49 385.564 0.565538L421.866 8.00587C395.734 135.504 370.858 229.35 344.76 296.042C318.906 362.107 290.611 404.894 255.432 425.746C218.702 447.517 179.107 442.901 138.137 426.151C97.6821 409.612 52.1021 379.706 0.721458 345.448L21.2785 314.616ZM421.866 8.00587C411.886 56.6972 408.071 94.5769 410.085 122.062C412.143 150.148 419.872 162.8 427.925 167.999C436.018 173.223 451.214 175.308 479.185 165.251C506.569 155.405 542.066 135.331 586.512 103.647L608.022 133.821C562.529 166.252 523.809 188.585 491.723 200.122C460.222 211.448 430.692 213.892 407.828 199.131C384.924 184.346 375.465 156.671 373.128 124.77C370.746 92.2673 375.33 50.4996 385.564 0.565538L421.866 8.00587ZM614.908 124.399L511.119 447.576L475.837 436.245L579.626 113.069L614.908 124.399ZM905.069 40.7885C829.451 156.52 805.705 250.21 807.504 314.908C808.405 347.295 815.672 371.876 825.415 388.522C835.218 405.27 846.787 412.964 856.483 414.888L849.27 451.235C826.351 446.687 806.941 430.317 793.434 407.241C779.868 384.063 771.495 353.062 770.462 315.938C768.395 241.614 795.605 140.573 874.048 20.5191L905.069 40.7885ZM856.483 414.888C863.846 416.349 869.281 415.243 874.352 412.583C880.019 409.611 886.003 404.269 893.141 395.864C900.374 387.347 907.329 377.522 916.128 365.807C924.636 354.48 934.369 342.103 946.027 330.413C969.713 306.662 1001.2 285.917 1047.3 279.794C1092.8 273.751 1150.7 282.191 1227.15 312.835L1213.37 347.231C1140.34 317.961 1089.14 311.618 1052.18 316.527C1015.82 321.356 991.492 337.3 972.266 356.579C962.468 366.405 953.97 377.127 945.757 388.063C937.834 398.61 929.576 410.207 921.386 419.851C913.102 429.606 903.456 439.161 891.566 445.398C879.08 451.948 865.033 454.364 849.27 451.235L856.483 414.888ZM480.133 429.058L876.213 17.801L902.904 43.5067L506.823 454.763L480.133 429.058Z" fill="white"/></svg>');
  }

  .Page404__h1{
    font-size: 43vw;
  }

  .Page404__textContent {
    gap: 30px;
    width: 100%;
  }

  .Page404__h2 {
    font-size: 29px;

    width: 200px;
  }

  .Page404__p {
    font-size: 14px;
    width: 270px;
  }

  .Page404__btn {
    margin: 10px 0 0 0;
    font-size: 14px;
    padding: 10px 0 ;
    width: 100%;
    text-align: center;

  }
}
</style>
